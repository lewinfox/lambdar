<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Configuring lambdar • lambdar</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Configuring lambdar">
<meta property="og:description" content="lambdar">
<meta property="og:image" content="https://lewinfox.github.io/lambdar/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">lambdar</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0.9007</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/lambdar.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/configuration.html">Configuring lambdar</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/lewinfox/lambdar/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="configuration_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Configuring lambdar</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/lewinfox/lambdar/blob/master/vignettes/configuration.Rmd"><code>vignettes/configuration.Rmd</code></a></small>
      <div class="hidden name"><code>configuration.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/lewinfox/lambdar">lambdar</a></span><span class="op">)</span></code></pre></div>
<p>The <code>_lambdar.yml</code> file can be used to customise your container image. Lambdar tries to populate as much information as it can, but if you need to override any options you’re welcome to do so. You can also write your own Dockerfile and use lambdar to build it, if you prefer.</p>
<div id="config-options" class="section level2">
<h2 class="hasAnchor">
<a href="#config-options" class="anchor"></a>Config options</h2>
<div id="aws_account_id-and-aws_region" class="section level3">
<h3 class="hasAnchor">
<a href="#aws_account_id-and-aws_region" class="anchor"></a><code>aws_account_id</code> and <code>aws_region</code>
</h3>
<p>Lambdar uses these when it talks to AWS. This information is needed to:</p>
<ul>
<li>Authenticate with AWS so lambdar can run <code>docker push</code> and upload your container.</li>
<li>Construct the URL of your ECR (Elastic Container Registry) repository, which is where your container will be stored.</li>
<li>Create the lambda function from your container (this isn’t implemented yet).</li>
</ul>
<p>If you don’t supply this information you can still build a container if you have Docker installed, or build a Dockerfile if you don’t.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb2-1"><a href="#cb2-1"></a><span class="co"># _lambdar.yml</span></span>
<span id="cb2-2"><a href="#cb2-2"></a></span>
<span id="cb2-3"><a href="#cb2-3"></a><span class="fu">aws_account_id</span><span class="kw">:</span><span class="at"> </span><span class="st">"123456789012"</span></span>
<span id="cb2-4"><a href="#cb2-4"></a></span>
<span id="cb2-5"><a href="#cb2-5"></a><span class="fu">aws_region</span><span class="kw">:</span><span class="at"> </span><span class="st">"ap-southeast-2"</span></span></code></pre></div>
</div>
<div id="app_name" class="section level3">
<h3 class="hasAnchor">
<a href="#app_name" class="anchor"></a><code>app_name</code>
</h3>
<p>This is used to name (via <code>docker tag</code>) your container when it’s built. It also forms part of the ECR repository URL.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb3-1"><a href="#cb3-1"></a><span class="co"># _lambdar.yml</span></span>
<span id="cb3-2"><a href="#cb3-2"></a></span>
<span id="cb3-3"><a href="#cb3-3"></a><span class="fu">app_name</span><span class="kw">:</span><span class="at"> </span><span class="st">"my-first-lambdar-app"</span></span></code></pre></div>
</div>
<div id="r_version" class="section level3">
<h3 class="hasAnchor">
<a href="#r_version" class="anchor"></a><code>r_version</code>
</h3>
<p>This tells lambdar what version of R to install in your container. Lambdar pre-fills this with your current R version, but you can change it if you need to. Make sure you specify all three digits of the version number, e.g. <code>"3.6.3"</code>.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb4-1"><a href="#cb4-1"></a><span class="co"># _lambdar.yml</span></span>
<span id="cb4-2"><a href="#cb4-2"></a></span>
<span id="cb4-3"><a href="#cb4-3"></a><span class="fu">r_version</span><span class="kw">:</span><span class="at"> </span><span class="st">"4.1.1"</span></span></code></pre></div>
</div>
<div id="include_files" class="section level3">
<h3 class="hasAnchor">
<a href="#include_files" class="anchor"></a><code>include_files</code>
</h3>
<p>If your lambda depends on additional data or code files you need to add them to the<code>include_files</code> array. By default only files containing <code>@lambdar</code>-tagged functions will be included.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb5-1"><a href="#cb5-1"></a><span class="co"># _lambdar.yml</span></span>
<span id="cb5-2"><a href="#cb5-2"></a></span>
<span id="cb5-3"><a href="#cb5-3"></a><span class="fu">include_files</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="at"> </span><span class="st">"main.R"</span><span class="kw">,</span><span class="at"> </span><span class="st">"data.csv"</span><span class="kw">,</span><span class="at"> </span><span class="st">"utils/helpers.R"</span><span class="at"> </span><span class="kw">]</span></span></code></pre></div>
</div>
<div id="r_packages" class="section level3">
<h3 class="hasAnchor">
<a href="#r_packages" class="anchor"></a><code>r_packages</code>
</h3>
<p>Any packages listed here will be installed when the container is built. Lambdar will try and determine which packages you need using <code><a href="https://rstudio.github.io/renv/reference/dependencies.html">renv::dependencies()</a></code> and will auto-fill this list.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb6-1"><a href="#cb6-1"></a><span class="co"># _lambdar.yml</span></span>
<span id="cb6-2"><a href="#cb6-2"></a></span>
<span id="cb6-3"><a href="#cb6-3"></a><span class="fu">r_packages</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="at"> tidyverse</span><span class="kw">,</span><span class="at"> units </span><span class="kw">]</span></span></code></pre></div>
</div>
<div id="linux_packages" class="section level3">
<h3 class="hasAnchor">
<a href="#linux_packages" class="anchor"></a><code>linux_packages</code>
</h3>
<p>If you need any extra system libraries installing, mention them here. The base AWS image is based on CentOS, so packages will be installed by <code>yum</code>.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb7-1"><a href="#cb7-1"></a><span class="co"># _lambdar.yml</span></span>
<span id="cb7-2"><a href="#cb7-2"></a></span>
<span id="cb7-3"><a href="#cb7-3"></a><span class="fu">linux_packages</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="at"> udunits2-devel </span><span class="kw">]</span></span></code></pre></div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Lewin Appleton-Fox.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
